<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="–¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–π –∫–≤–∏–∑ - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ –æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞—Ö –ë–æ–ª—å—à–æ–≥–æ —Ç–µ–∞—Ç—Ä–∞">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#8B0000">
  <title>–¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–π –≤–µ—á–µ—Ä | –ö–≤–∏–∑</title>
  <link rel="icon" href="assets/icons/favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Cormorant+Garamond:wght@300;400;600&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/animations.css">
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="stylesheet" href="css/celebrations.css">
</head>
<body>
  <!-- –¢–æ—Ä–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ -->
  <div class="completion-overlay" id="completionOverlay" style="display: none;">
      <div class="completion-content">
        <img src="assets/images/theatre-trophy.svg" alt="–¢—Ä–æ—Ñ–µ–π" class="trophy-icon">
        <h1 class="completion-title">–ë–†–ê–í–û!</h1>
        <p class="completion-message">–í—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ 35 –≤–æ–ø—Ä–æ—Å–æ–≤!</p>
      
      <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π -->
      <div class="completion-statistics" id="completionStatistics">
        <h2 class="stats-title">
          <img src="assets/images/theatre-trophy.svg" alt="–¢—Ä–æ—Ñ–µ–π" class="stats-trophy-icon">
          –í–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        </h2>
        <div class="stats-grid">
          <div class="stat-item">
            <span class="stat-icon">‚è±Ô∏è</span>
            <span class="stat-label">–í—Ä–µ–º—è:</span>
            <span class="stat-value" id="completionStatTime">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-icon">‚úÖ</span>
            <span class="stat-label">–° –ø–µ—Ä–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏:</span>
            <span class="stat-value" id="completionStatCorrect">--/35</span>
          </div>
          <div class="stat-item">
            <span class="stat-icon">üí°</span>
            <span class="stat-label">–ü–æ–¥—Å–∫–∞–∑–æ–∫:</span>
            <span class="stat-value" id="completionStatHints">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-icon">üé≠</span>
            <span class="stat-label">–õ—é–±–∏–º–∞—è –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞:</span>
            <span class="stat-value" id="completionStatFavorite">--</span>
          </div>
        </div>
        <button class="prize-button" id="completionPrizeButton" onclick="startPrizeSlider()">
          üéÅ –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–∑
        </button>
      </div>
      
    </div>
  </div>
  
  <!-- –ó–∞–Ω–∞–≤–µ—Å –ø–æ –æ–∫–æ–Ω—á–∞–Ω–∏—é –∏–≥—Ä—ã - –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –æ—Ç –æ–∫–Ω–∞ –ë–†–ê–í–û -->
  <div class="curtain-open-animation" id="finalCurtain" style="display: none;">
    <div class="curtain-panel left-panel"></div>
    <div class="curtain-panel right-panel"></div>
  </div>
  
  <!-- –§–µ–π–µ—Ä–≤–µ—Ä–∫ –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –∑–∞–Ω–∞–≤–µ—Å–∞ -->
  <div id="fireworks" class="fireworks hidden">
    <div class="fire-burst left">
      <img src="assets/images/fireworks.svg" alt="–§–µ–π–µ—Ä–≤–µ—Ä–∫" class="firework-svg">
    </div>
    <div class="fire-burst center">
      <img src="assets/images/fireworks.svg" alt="–§–µ–π–µ—Ä–≤–µ—Ä–∫" class="firework-svg">
    </div>
    <div class="fire-burst right">
      <img src="assets/images/fireworks.svg" alt="–§–µ–π–µ—Ä–≤–µ—Ä–∫" class="firework-svg">
    </div>
  </div>

  <!-- –¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–π –∑–∞–Ω–∞–≤–µ—Å -->
  <div class="theatre-curtain">
    <div class="curtain-drape">
      <div class="curtain-logo"></div>
      <div class="curtain-text">–¢–ï–ê–¢–†–ê–õ–¨–ù–´–ô –ö–í–ò–ó</div>
    </div>
  </div>

  <!-- –ë–æ–∫–æ–≤—ã–µ –∑–∞–Ω–∞–≤–µ—Å—ã -->
  <div class="side-curtains" id="sideCurtains">
    <div class="side-curtain left">
      <div class="production-title" data-production="–©–µ–ª–∫—É–Ω—á–∏–∫">–©–ï–õ–ö–£–ù–ß–ò–ö</div>
      <div class="production-title" data-production="–ñ–∏–∑–µ–ª—å">–ñ–ò–ó–ï–õ–¨</div>
      <div class="production-title" data-production="–ó–æ–ª—É—à–∫–∞">–ó–û–õ–£–®–ö–ê</div>
      <div class="production-title" data-production="–î–æ–Ω –ö–∏—Ö–æ—Ç">–î–û–ù –ö–ò–•–û–¢</div>
      <div class="production-title" data-production="–†–∞–π–º–æ–Ω–¥–∞">–†–ê–ô–ú–û–ù–î–ê</div>
      <div class="production-title" data-production="–ì–∞–º–ª–µ—Ç">–ì–ê–ú–õ–ï–¢</div>
    </div>
    <div class="side-curtain right">
      <div class="production-title" data-production="–ú–∞–∫–±–µ—Ç">–ú–ê–ö–ë–ï–¢</div>
      <div class="production-title" data-production="–≠—Å–º–µ—Ä–∞–ª—å–¥–∞">–≠–°–ú–ï–†–ê–õ–¨–î–ê</div>
      <div class="production-title" data-production="–û—Ä–ª–µ–∞–Ω—Å–∫–∞—è –¥–µ–≤–∞">–û–†–õ–ï–ê–ù–°–ö–ê–Ø –î–ï–í–ê</div>
      <div class="production-title" data-production="–ê–ª—å—Ü–∏–Ω–∞">–ê–õ–¨–¶–ò–ù–ê</div>
      <div class="production-title" data-production="–°–æ—Ç–≤–æ—Ä–µ–Ω–∏–µ –º–∏—Ä–∞">–°–û–¢–í–û–†–ï–ù–ò–ï –ú–ò–†–ê</div>
    </div>
  </div>

  <div class="progress-container" id="progressContainer" style="display: none;">
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill" style="width: 0%"></div>
      <span class="progress-text" id="progressText">0/35 —Ñ–æ—Ç–æ</span>
    </div>
  </div>

  <!-- –ú–æ–±–∏–ª—å–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è -->
  <div class="mobile-gallery-preview" id="mobileGalleryPreview" style="display: none;">
    <!-- –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
  </div>

  <div id="app">
    <section id="welcomeScreen" class="screen active">
      <div class="welcome-content">
        <h1 class="welcome-title">üé≠ –¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–π –≤–µ—á–µ—Ä üé≠</h1>
        <p class="welcome-subtitle">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–≤–∏–∑ –æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞—Ö –ë–æ–ª—å—à–æ–≥–æ —Ç–µ–∞—Ç—Ä–∞</p>
        <div class="welcome-instructions">
          <h3>–ü—Ä–∞–≤–∏–ª–∞:</h3>
          <ul>
            <li>–û—Ç–≤–µ—Ç—å –Ω–∞ 35 –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã—Ö –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞—Ö</li>
            <li>–ó–∞ –∫–∞–∂–¥—ã–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é</li>
            <li>–ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–¥—Å–∫–∞–∑–∫–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å</li>
            <li>–°–æ–±–µ—Ä–∏ –≤—Å–µ —Ñ–æ—Ç–æ –∏ –æ—Ç–∫—Ä–æ–π —Ñ–∏–Ω–∞–ª—å–Ω—É—é –≥–∞–ª–µ—Ä–µ—é!</li>
          </ul>
        </div>
        <button class="start-button" onclick="startQuiz()">üéüÔ∏è –ù–∞—á–∞—Ç—å –∫–≤–∏–∑</button>
      </div>
    </section>

    <section id="questionScreen" class="screen" style="display: none;">
      <!-- –í–µ–Ω–µ—Ü–∏–∞–Ω—Å–∫–∞—è –º–∞—Å–∫–∞ —Å–ª–µ–≤–∞ -->
      <div class="venetian-mask left-mask"></div>
      
      <!-- –í–µ–Ω–µ—Ü–∏–∞–Ω—Å–∫–∞—è –º–∞—Å–∫–∞ —Å–ø—Ä–∞–≤–∞ -->
      <div class="right-mask"></div>
      
      <div class="ticket-container">
        <div class="ticket-form" role="main" aria-labelledby="questionTitle">
          <div class="ticket-texture"></div>
          <div class="ticket-header">
            <h2 id="questionTitle">–¢–ï–ê–¢–†–ê–õ–¨–ù–´–ô –í–ï–ß–ï–†</h2>
            <p class="question-number" id="questionNumber"></p>
          </div>
          <div class="question-content" id="questionContent"></div>
          <div class="answers-container" id="answersContainer" role="radiogroup" aria-labelledby="questionTitle"></div>
          <div class="hints-panel" id="hintsPanel" role="toolbar" aria-label="–ü–æ–¥—Å–∫–∞–∑–∫–∏">
            <button class="hint-button level-1" id="hint1" onclick="showHint(1)">
              <span class="hint-icon"></span>
              <span class="hint-timer" id="timer1"></span>
            </button>
            <button class="hint-button level-2 locked" id="hint2" disabled onclick="showHint(2)">
              <span class="hint-icon"></span>
              <span class="hint-timer" id="timer2"></span>
            </button>
            <button class="hint-button level-3 locked" id="hint3" disabled onclick="showHint(3)">
              <span class="hint-icon"></span>
              <span class="hint-timer" id="timer3"></span>
            </button>
          </div>
        </div>
      </div>
      <!-- –ì–∞–ª–µ—Ä–µ–∏ –ø–æ –±–æ–∫–∞–º -->
      <div class="side-gallery left" id="sideGalleryLeft"></div>
      <div class="side-gallery right" id="sideGalleryRight"></div>
    </section>

    <section id="galleryScreen" class="screen final-gallery" style="display: none;">
      <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–≤–µ–∑–¥—ã -->
      <div class="corner-stars">
        <img src="assets/images/theatre-star.svg" alt="–ó–≤–µ–∑–¥–∞" class="star top-left">
        <img src="assets/images/theatre-star.svg" alt="–ó–≤–µ–∑–¥–∞" class="star top-right">
        <img src="assets/images/theatre-star.svg" alt="–ó–≤–µ–∑–¥–∞" class="star bottom-left">
        <img src="assets/images/theatre-star.svg" alt="–ó–≤–µ–∑–¥–∞" class="star bottom-right">
      </div>
      
      <!-- –¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–µ –º–∞—Å–∫–∏ –ø–æ –±–æ–∫–∞–º -->
      <div class="theatre-masks">
        <img src="assets/images/maski-teatr.png" alt="–¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–µ –º–∞—Å–∫–∏" class="mask-left">
        <img src="assets/images/maski-teatr.png" alt="–¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–µ –º–∞—Å–∫–∏" class="mask-right">
      </div>
      
      <div class="gallery-header">
        <h1 class="gallery-title">
          <img src="assets/images/theatre-star.svg" alt="–ó–≤–µ–∑–¥–∞" class="star-left">
          –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!
          <img src="assets/images/theatre-star.svg" alt="–ó–≤–µ–∑–¥–∞" class="star-right">
        </h1>
      </div>
      <div class="view-mode-toggle">
        <button class="mode-button active" id="collageMode" onclick="switchViewMode('collage')">üñºÔ∏è –ö–æ–ª–ª–∞–∂</button>
        <button class="mode-button" id="sliderMode" onclick="switchViewMode('slider')">üì∏ –°–ª–∞–π–¥–µ—Ä</button>
      </div>
      <div id="collageView" class="gallery-collage"></div>
      <div id="sliderView" class="gallery-slider" style="display: none;">
        <div class="slider-photo-container">
          <img id="sliderPhoto" class="slider-photo" src="" alt="–§–æ—Ç–æ">
          <button class="slider-nav prev" onclick="prevPhoto()">‚óÄ</button>
          <button class="slider-nav next" onclick="nextPhoto()">‚ñ∂</button>
        </div>
        <div class="slider-counter" id="sliderCounter">1 / 35</div>
      </div>
      
      <!-- –ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è (—Å–∫—Ä—ã—Ç–æ –¥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ª–∞–π–¥–æ–≤) -->
      <div class="birthday-congratulation" id="birthdayCongratulation" style="display: none;">
        <div class="congrats-content">
          <h3 class="congrats-title">üéÇ –° –î–Ω–µ–º –†–æ–∂–¥–µ–Ω–∏—è! üéÇ</h3>
          <p class="congrats-message">
            <strong>–ë—Ä–∞–≤–æ!</strong> –¢—ã –±–ª–µ—Å—Ç—è—â–µ –ø—Ä–æ—à–ª–∞ –≤—Å–µ 35 –≤–æ–ø—Ä–æ—Å–æ–≤!<br><br>
            –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —Ç–≤–æ–µ–π –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç –Ω–∞–ø–æ–ª–Ω–µ–Ω<br>
            –≤–æ–ª—à–µ–±—Å—Ç–≤–æ–º —Ç–µ–∞—Ç—Ä–∞, —è—Ä–∫–∏–º–∏ —ç–º–æ—Ü–∏—è–º–∏<br>
            –∏ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–º–∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏!<br><br>
            –ü—É—Å—Ç—å —Ç–≤–æ—è –∂–∏–∑–Ω—å —Å–∏—è–µ—Ç —Ç–∞–∫ –∂–µ —è—Ä–∫–æ,<br>
            –∫–∞–∫ –ø—Ä–µ–º—å–µ—Ä–∞ –≤ –ë–æ–ª—å—à–æ–º —Ç–µ–∞—Ç—Ä–µ! üé≠‚ú®üí´
          </p>
        </div>
      </div>
      
      <div class="statistics-panel" id="statisticsPanel">
        <h2 class="statistics-title">üèÜ –¢–≤–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
        <div class="stat-item"><span class="stat-label">‚è±Ô∏è –í—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è:</span><span class="stat-value" id="statTime">--</span></div>
        <div class="stat-item"><span class="stat-label">‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Å 1 –ø–æ–ø—ã—Ç–∫–∏:</span><span class="stat-value" id="statCorrect">--/35</span></div>
        <div class="stat-item"><span class="stat-label">üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –ø–æ–¥—Å–∫–∞–∑–æ–∫:</span><span class="stat-value" id="statHints">--</span></div>
        <div class="stat-item"><span class="stat-label">üé≠ –õ—é–±–∏–º–∞—è –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞:</span><span class="stat-value" id="statFavorite">--</span></div>
      </div>
      <button class="start-button" onclick="startQuiz()" style="margin: 40px auto; display: block;">üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
    </section>
  </div>

  <!-- –§–µ–π–µ—Ä–≤–µ—Ä–∫ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ -->
  <div class="fireworks hidden" id="fireworks">
    <div class="fire-burst left"></div>
    <div class="fire-burst center"></div>
    <div class="fire-burst right"></div>
  </div>

  

  <div class="hint-modal" id="hintModal">
    <div class="hint-content">
      <button class="hint-close" onclick="closeHint()">‚úï</button>
      <h3 class="hint-title" id="hintTitle">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</h3>
      <p class="hint-text" id="hintText"></p>
    </div>
  </div>

  <div class="photo-reveal-overlay" id="photoRevealOverlay" style="display: none;">
    <div class="photo-spotlight"></div>
    <div class="photo-reveal-content">
      <img id="revealedPhoto" class="revealed-photo" src="" alt="–û—Ç–∫—Ä—ã—Ç–æ–µ —Ñ–æ—Ç–æ">
      <p class="photo-reveal-message">‚ú® –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∫—Ä—ã—Ç–∞! ‚ú®</p>
      <p class="photo-number" id="photoNumberText"></p>
      <button class="continue-button" onclick="continueQuiz()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚Üí</button>
    </div>
  </div>

  <div class="curtain-animation" id="curtainAnimation" style="display: none;">
    <div class="curtain-left"></div>
    <div class="curtain-right"></div>
  </div>

  <!-- –¢–µ–∞—Ç—Ä–∞–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
  <div class="theatre-notification" id="theatreNotification" style="display: none;">
    <div class="notification-content">
      <div class="notification-icon" id="notificationIcon"></div>
      <h3 class="notification-title" id="notificationTitle"></h3>
      <p class="notification-message" id="notificationMessage"></p>
      <button class="notification-button" id="notificationButton" onclick="closeNotification()">–û—Ç–ª–∏—á–Ω–æ</button>
    </div>
  </div>

  <!-- –¢–µ–∞—Ç—Ä–∞–ª—å–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
  <div class="theatre-confirm" id="theatreConfirm" style="display: none;">
      <div class="confirm-content">
      <div class="confirm-icon"></div>
      <h3 class="confirm-title" id="confirmTitle"></h3>
      <p class="confirm-message" id="confirmMessage"></p>
      <div class="confirm-buttons">
        <button class="confirm-button yes" id="confirmYes">–î–∞</button>
        <button class="confirm-button no" id="confirmNo">–ù–µ—Ç</button>
      </div>
    </div>
  </div>

  <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö —á–∞—Å—Ç–∏—Ü -->
  <div class="celebration-particles" id="celebrationParticles"></div>

  <script src="libs/jszip.min.js"></script>
  <script src="js/questions.js"></script>
  <script src="js/state.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/app.js"></script>
</body>
</html>

